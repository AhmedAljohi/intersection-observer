(function(s,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(s=typeof globalThis<"u"?globalThis:s||self,n(s.IntersectionObserverVue={},s.Vue))})(this,function(s,n){"use strict";function c(e,r={}){return new IntersectionObserver(t=>{t.forEach(e)},r)}function f(e){const r=n.ref(null),o=n.ref(!1);return n.onMounted(()=>{if(!r.value)return;const t=c(i=>{o.value=i.isIntersecting,i.isIntersecting&&t.unobserve(i.target)},e);t.observe(r.value),n.onUnmounted(()=>{t.disconnect()})}),{ref:r,inView:o}}const d=n.defineComponent({name:"LazyRender",props:{as:{type:String,default:"div"},threshold:{type:[Number,Array],default:0},onChange:Function,className:String,style:[String,Object]},setup(e,{slots:r}){const{ref:o,inView:t}=f({threshold:e.threshold}),i=n.computed(()=>typeof r.default=="function"),l=a=>{o.value=a};return n.watch(t,a=>{e.onChange&&e.onChange(a)}),{elementRef:o,inView:t,isRenderProp:i,setNode:l}}}),u=(e,r)=>{const o=e.__vccOpts||e;for(const[t,i]of r)o[t]=i;return o};function p(e,r,o,t,i,l){return e.isRenderProp?n.renderSlot(e.$slots,"default",{key:1,inView:e.inView,ref:e.setNode}):(n.openBlock(),n.createBlock(n.resolveDynamicComponent(e.as),{key:0,ref:e.elementRef,class:n.normalizeClass(e.className),style:n.normalizeStyle(e.style)},{default:n.withCtx(()=>[n.renderSlot(e.$slots,"default")]),_:3},8,["class","style"]))}const y=u(d,[["render",p]]);s.LazyRender=y,s.useInView=f,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
